(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-17b2"],{D1ES:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a,i,s,r,u=d(n("14Xm")),o=d(n("D3Ub")),c=n("Iawr"),l=d(n("zcYx"));function d(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{receiver:"",domain:"",info:"",web3Minter:null,isSending:!1,hasRole:null}},mounted:(r=(0,o.default)(u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.init();case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)}),computed:{web3Account:function(){return this.$store.state.web3.account},chainType:function(){return this.$store.state.web3.chainType},chainId:function(){return this.$store.state.web3.chainId}},watch:{chainType:(s=(0,o.default)(u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.web3Minter=new l.default(this.web3Account,this.chainType,this.chainId),t.next=3,this.loadRole();case 3:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},methods:{send:function(){var t=this;if(""!=this.receiver&&""!=this.domain){var e,n=this.domain,a=this.receiver;this.info=n+"\n\n"+a,this.web3Minter=new l.default(this.web3Account,this.chainType,this.chainId),this.isSending=!0,this.web3Minter.minter(n,a,(function(t,e){})).then((e=(0,o.default)(u.default.mark((function e(a){return u.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.Notification.success(t,"Mined!",n+" Mined!",3e3),t.isSending=!1;case 2:case"end":return e.stop()}}),e,t)}))),function(t){return e.apply(this,arguments)})).catch((function(e){4001==e.code?c.Notification.error(t,t.$t("app.error"),t.$t("notify.userDenied"),5e3):c.Notification.error(t,t.$t("app.error"),t.$t("notify.payError"),5e3),t.isSending=!1}))}},init:(i=(0,o.default)(u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"0xb2fb14fcc984b4d0e68c13ecf821623356c10169"==this.web3Account&&"0x1e3d5ce267d4def12fc14fc6ee0cf29650d8a8f0"==this.web3Account&&"0x6f7673a6823fabec37897e90c70a667f60d003d3"==this.web3Account&&this.$router.push({path:"/search"});case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)}),loadRole:(a=(0,o.default)(u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.web3Minter=new l.default(this.web3Account,this.chainType,this.chainId),t.next=3,this.web3Minter.hasMinterRole();case 3:this.hasRole=t.sent;case 4:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)}),remove:function(t){console.log(t)},subTokenUri:function(t){return t.slice(0,10)+"..."+t.slice(-6)}}}},Iawr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Notification=void 0;var a=s(n("iCc5")),i=s(n("V7oC"));function s(t){return t&&t.__esModule?t:{default:t}}var r=e.Notification=function(){function t(){(0,a.default)(this,t)}return(0,i.default)(t,null,[{key:"notify",value:function(t,e,n,a,i){t.$notify({title:e,message:n,type:a,duration:i})}},{key:"info",value:function(t,e,n,a){t.$notify.info({title:e,message:n,duration:a})}},{key:"success",value:function(t,e,n,a){t.$notify({title:e,message:n,type:"success",duration:a})}},{key:"error",value:function(t,e,n,a){t.$notify.error({title:e,message:n,duration:a})}}]),t}();e.default=r},RJ1J:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"admin"},[n("div",{staticClass:"left"},[n("div",{staticClass:"title"},[t._v("address")]),t._v(" "),n("div",{staticClass:"total"},[t._v(t._s(t.web3Account))])]),t._v(" "),n("div",{staticClass:"right"})]),t._v(" "),n("div",{staticClass:"admin"},[n("div",{staticClass:"left"},[n("div",{staticClass:"title"},[t._v("BuyMinter has Minter role: ")]),t._v(" "),n("div",{staticClass:"total"},[t._v(t._s(t.hasRole))])]),t._v(" "),n("div",{staticClass:"right"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.loadRole()}}},[t._v("Role")])],1)]),t._v(" "),n("div",[n("div",{staticClass:"cart-row"},[n("div",{staticClass:"left"},[n("div",{staticStyle:{"margin-top":"15px"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"receiver"},model:{value:t.receiver,callback:function(e){t.receiver=e},expression:"receiver"}})],1)])]),t._v(" "),n("div",{staticClass:"cart-row"},[n("div",{staticClass:"left"},[n("div",{staticStyle:{"margin-top":"15px"}},[n("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"domain"},model:{value:t.domain,callback:function(e){t.domain=e},expression:"domain"}})],1),t._v("\t\t\n            No SubFix \n        ")])]),t._v(" "),n("div",{staticClass:"cart-row"},[n("div",{staticClass:"left"},[n("div",{staticStyle:{"margin-top":"15px"}},[t._v("\n \t\t\t "+t._s(t.info)+"\n\t\t\t")])])]),t._v(" "),n("div",{staticClass:"cart-row"},[n("div",{staticClass:"left"},[n("el-button",{attrs:{type:"primary",loading:t.isSending},on:{click:function(e){t.send()}}},[t._v("Send")])],1)])])])},i=[];n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i}))},bK8E:function(t,e,n){"use strict";var a=n("zX0M");n.n(a).a},gMwZ:function(t,e,n){"use strict";n.r(e);var a=n("D1ES"),i=n.n(a);for(var s in a)"default"!==s&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e.default=i.a},tqWo:function(t,e,n){"use strict";n.r(e);var a=n("RJ1J"),i=n("gMwZ");for(var s in i)"default"!==s&&function(t){n.d(e,t,(function(){return i[t]}))}(s);n("bK8E");var r=n("KHd+"),u=Object(r.a)(i.default,a.a,a.b,!1,null,"61da7956",null);u.options.__file="admin.vue",e.default=u.exports},wj7O:function(t){t.exports=[{inputs:[{internalType:"contract Registry",name:"registry",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"grantMinterRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"revokeMinterRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"baseURI",type:"string"}],name:"setBaseURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"label",type:"string"}],name:"mintURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"label",type:"string"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeMintURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"label",type:"string"},{internalType:"address",name:"resolver",type:"address"}],name:"mintURIWithResolver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"label",type:"string"}],name:"mintSubURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"label",type:"string"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeMintSubURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"label",type:"string"},{internalType:"address",name:"resolver",type:"address"}],name:"mintSubURIWithResolver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"label",type:"string"}],name:"burnSubURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"resolver",type:"address"}],name:"setResolver",outputs:[],stateMutability:"nonpayable",type:"function"}]},zX0M:function(t,e,n){},zcYx:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Web3Minter=void 0;var a=o(n("14Xm")),i=o(n("D3Ub")),s=o(n("iCc5")),r=o(n("V7oC")),u=o(n("meUc"));n("kB5k"),n("3Ci3");function o(t){return t&&t.__esModule?t:{default:t}}var c=n("ewEw"),l=n("wj7O"),d=e.Web3Minter=function(){function t(e,n,a){(0,s.default)(this,t),this.web3=new u.default(window.detectProvider),this.minterController=c[n][a].minterController,this.buyMinter=c[n][a].buyMinter,this.account=e,this.contract=new this.web3.eth.Contract(l,c[n][a].minterController);var i=this;this.web3.eth.getGasPrice().then((function(t){i.defaultGasPrice=t}))}var e,n,o,d,p;return(0,r.default)(t,[{key:"price",value:(p=(0,i.default)(a.default.mark((function t(e){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t,this)}))),function(t){return p.apply(this,arguments)})},{key:"hasMinterRole",value:(d=(0,i.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.contract.methods.hasRole(this.buyMinter).call();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"minter",value:(o=(0,i.default)(a.default.mark((function t(e,n,i){var s,r,u;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=this.defaultGasPrice,r=this.contract.methods.mintURI(n,e),t.next=4,r.estimateGas({value:0,from:this.account,to:this.minterController});case 4:return u=t.sent,t.abrupt("return",r.send({from:this.account,gasPrice:s,gas:Math.round(1.1*u)},i));case 6:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return o.apply(this,arguments)})},{key:"addMinerRole",value:(n=(0,i.default)(a.default.mark((function t(e,n){var i,s,r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.defaultGasPrice,s=this.contract.methods.grantMinterRole(to,label),t.next=4,s.estimateGas({value:0,from:this.account,to:this.minterController});case 4:return r=t.sent,t.abrupt("return",s.send({from:this.account,gasPrice:i,gas:Math.round(1.1*r)},n));case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"delMinerRole",value:(e=(0,i.default)(a.default.mark((function t(e,n){var i,s,r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.defaultGasPrice,s=this.contract.methods.revokeMinterRole(to,label),t.next=4,s.estimateGas({value:0,from:this.account,to:this.minterController});case 4:return r=t.sent,t.abrupt("return",s.send({from:this.account,gasPrice:i,gas:Math.round(1.1*r)},n));case 6:case"end":return t.stop()}}),t,this)}))),function(t,n){return e.apply(this,arguments)})}]),t}();e.default=d}}]);